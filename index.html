<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--bootstrap link-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <!--favicon item-->
    <link rel="shortcut icon" type="image/png" href="assets/image/nigth.png">
    <!--font awesome link-->
    <script src="https://kit.fontawesome.com/3358e17eaa.js" crossorigin="anonymous"></script>
    <!--add css style sheet-->
    <link rel="stylesheet" href="assets/css/style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <title>Document</title>
</head>
<!--start here-->

<body>
    <!--header using jumbotron -->
    <header class="jumbotron">
        <h1 class="display-3">Time Organizer Sheet</h1>
        <!--greeting message-->
        <p class="lead" id="message"></p>
        <!--date display withh time-->
        <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
        <!-- Timeblocks start here -->
        <div class="row" id="6">
            <!--time goes there-->
            <time class="col-2 bg-primary hour">
                06:00AM
            </time>
            <!--txet area-->
            <textarea class="col " rows="10" cols="30" id="textarea">
                event
            </textarea>
            <!--same button with save icon-->
            <button class="col-2 saveBtn " type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="7">
            <time class="col-2 bg-primary hour">
                07:00AM
            </time>
            <textarea class="col " rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>

        <div class="row" id="8">
            <time class="col-2 bg-primary hour">
                08:00AM
            </time>
            <textarea class="col" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="9">
            <time class="col-2 bg-primary hour">
                09:00AM
            </time>
            <textarea class="col " rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="10">
            <time class="col-2 bg-primary hour">
                10:00AM
            </time>
            <textarea class="col" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>

        <div class="row" id="11">
            <time class="col-2 bg-primary hour">
                11:00AM
            </time>
            <textarea class="col" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="12">
            <time class="col-2 bg-primary hour">
                12:00AM
            </time>
            <textarea class="col " rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="13">
            <time class="col-2 bg-primary hour">
                01:00AM
            </time>
            <textarea class="col " rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="14">
            <time class="col-2 bg-primary hour">
                02:00AM
            </time>
            <textarea class="col " rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="15">
            <time class="col-2 bg-primary hour">
                03:00AM
            </time>
            <textarea class="col" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="16">
            <time class="col-2 bg-primary hour">
                04:00AM
            </time>
            <textarea class="col" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="17">
            <time class="col-2 bg-primary hour">
                05:00AM
            </time>
            <textarea class="col" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="18">
            <time class="col-2 bg-primary hour">
                06:00AM
            </time>
            <textarea class="col " rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>

    </div>

    <!--javascript part-->
    <script type="text/javascript">
        //jquery is ready
        $(document).ready(function () {
            // greeting message and time 
            //calling checkhour and it is refreshing after 1000ms
            checkHour();
            setInterval(() => {
                checkHour();
            }, 1000);

            // greeting  message and image changed with time 
            var today = new Date();
            var curHr = today.getHours();
            if (curHr >= 0 && curHr < 6) {
                $("#message").text('sleeping time');
                $("body").css("background-image", "url('assets/image/nigth.png')");
            } else if (curHr >= 6 && curHr <= 12) {
                $("#message").text('Good Morning');
                $("body").css("background-image", "url('assets/image/morning.png')");
            } else if (curHr >= 12 && curHr < 17) {
                $("#message").text('Good Afternoon');
                $("body").css("background-image", "url('assets/image/afternoon.png')");
            } else {
                $("#message").text('Good Evening');
                $("body").css("background-image", "url('assets/image/evening.png')");
            }


            // code for showing time which is chaning every second
            setInterval(() => {
                display_ct();
            }, 1000);
            function display_ct() {
                var x = new Date()
                var x1 = x.toUTCString();// changing the display to UTC string
                $("#currentDay").text(x1);

            }
            display_ct();


            // on click event
            //adding on click event listner on save button
            $(".saveBtn").on("click", function (e) {
                //using prevent default
                e.preventDefault();
                //take value of textarea in the textArea variable
                var textArea = $(this).siblings("#textarea").val();
                //add id number in the hour variable
                var hour = $(this).parent().attr("id");
                console.log(hour);
                // add txetare input in hour index using local storage
                localStorage.setItem(hour, textArea);
            });

            // get the value of item to local storage to browser page
            $("#6 #textarea").val(localStorage.getItem("6"));
            $("#7 #textarea").val(localStorage.getItem("7"));
            $("#8 #textarea").val(localStorage.getItem("8"));
            $("#9 #textarea").val(localStorage.getItem("9"));
            $("#10 #textarea").val(localStorage.getItem("10"));
            $("#11 #textarea").val(localStorage.getItem("11"));
            $("#12 #textarea").val(localStorage.getItem("12"));
            $("#13 #textarea").val(localStorage.getItem("13"));
            $("#14 #textarea").val(localStorage.getItem("14"));
            $("#15 #textarea").val(localStorage.getItem("15"));
            $("#16 #textarea").val(localStorage.getItem("16"));
            $("#17 #textarea").val(localStorage.getItem("17"));
            $("#18 #textarea").val(localStorage.getItem("18"));




            //make new function with checkHour
            function checkHour() {
                //add curent date in the toady 
                var today = new Date();
                //set hours in  the curHr 
                var curHr = today.getHours();
                //apply .each function
                $(".row textarea").each(function () {
                    var hour = parseInt($(this).parents().attr("id"));
                    //change the color of textarea according with time
                    if (hour < curHr) {
                        $(this).addClass("past");
                        $(this).removeClass("present");
                        $(this).removeClass("future");
                    }
                    else if (hour === curHr) {
                        $(this).addClass("present");
                        $(this).removeClass("past");
                        $(this).removeClass("future");

                    }
                    else {
                        $(this).addClass("future");
                        $(this).removeClass("past");
                        $(this).removeClass("present");
                    }
                })

            }
        });
    </script>


    <!-- jQuery, javascript file for the Bootstrap's javascript file to function -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Bootstrap's javascript file that allows the dropdown menu to work  -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>

</html>