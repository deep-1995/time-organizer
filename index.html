<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
        integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="shortcut icon" type="image/png" href="assets/image/quiz.png">
    <script src="https://kit.fontawesome.com/3358e17eaa.js" crossorigin="anonymous"></script>
    <!--add css style sheet-->
    <link rel="stylesheet" href="assets/css/style.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <title>Document</title>
</head>

<body>
    <header class="jumbotron">
        <h1 class="display-3">Time Organizer Sheet</h1>
        <p class="lead" id="message"></p>
        <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">
        <!-- Timeblocks go here -->
        <div class="row" id="6">
            <time class="col-2 bg-primary hour">
                06:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn " type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="7">
            <time class="col-2 bg-primary hour">
                07:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>

        <div class="row" id="8">
            <time class="col-2 bg-primary hour">
                08:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="9">
            <time class="col-2 bg-primary hour">
                09:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="10">
            <time class="col-2 bg-primary hour">
                10:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>

        <div class="row" id="11">
            <time class="col-2 bg-primary hour">
                11:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="12">
            <time class="col-2 bg-primary hour">
                12:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="13">
            <time class="col-2 bg-primary hour">
                01:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="14">
            <time class="col-2 bg-primary hour">
                02:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="15">
            <time class="col-2 bg-primary hour">
                03:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="16">
            <time class="col-2 bg-primary hour">
                04:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="17">
            <time class="col-2 bg-primary hour">
                05:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>
        <div class="row" id="18">
            <time class="col-2 bg-primary hour">
                06:00AM
            </time>
            <textarea class="col bg-secondary" rows="10" cols="30" id="textarea">
                event
            </textarea>
            <button class="col-2 saveBtn" type="submit">
                <i class="far fa-save fa-2x"></i>
            </button>
        </div>

    </div>


    <script type="text/javascript">
        checkHour();
        setInterval(() => {
            checkHour();
        }, 1000);
        //ONCLICK
        $(".saveBtn").on("click", function (e) {
            e.preventDefault();
            var textArea = $(this).siblings("#textarea").val();
            var hour = $(this).parent().attr("id");
            console.log(hour);
            localStorage.setItem(hour, textArea);
        });
        $("#6 #textarea").val(localStorage.getItem("6"));
        $("#7 #textarea").val(localStorage.getItem("7"));
        $("#8 #textarea").val(localStorage.getItem("8"));
        $("#9 #textarea").val(localStorage.getItem("9"));
        $("#10 #textarea").val(localStorage.getItem("10"));
        $("#11 #textarea").val(localStorage.getItem("11"));
        $("#12 #textarea").val(localStorage.getItem("12"));
        $("#13 #textarea").val(localStorage.getItem("13"));
        $("#14 #textarea").val(localStorage.getItem("14"));
        $("#15 #textarea").val(localStorage.getItem("15"));
        $("#16 #textarea").val(localStorage.getItem("16"));
        $("#17 #textarea").val(localStorage.getItem("17"));
        $("#18 #textarea").val(localStorage.getItem("18"));




        var today = new Date();
        function checkHour() {
            var today = new Date();
            // greeting message
            var curHr = today.getHours();
            $(".row textarea").each(function () {

                var hour = parseInt($(this).parents().attr("id"));
                if (hour < curHr) {
                    $(this).addClass("past");
                    $(this).removeClass("present");
                    $(this).removeClass("future");
                }
                else if (hour === curHr) {
                    $(this).addClass("present");
                    $(this).removeClass("past");
                    $(this).removeClass("future");

                }
                else {
                    $(this).addClass("future");
                    $(this).removeClass("past");
                    $(this).removeClass("present");
                }
            })

        }


        var curHr = today.getHours();
        // greeting  message changed with time
        if (curHr >= 0 && curHr < 6) {
            $("#message").text('What are you doing that early?');
        } else if (curHr >= 6 && curHr <= 12) {
            $("#message").text('Good Morning');
        } else if (curHr >= 12 && curHr < 17) {
            $("#message").text('Good Afternoon');
        } else {
            $("#message").text('Good Evening');
        }
    </script>


    <!-- jQuery, javascript file for the Bootstrap's javascript file to function -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Bootstrap's javascript file that allows the dropdown menu to work  -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>

</html>